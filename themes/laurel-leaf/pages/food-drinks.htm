title = 'Food & Drinks'
description = 'Listing with Ajax filtering capabilities'
url = '/food-drinks'
layout = default

[lunchoffers]
[foods]
[drinks]
==


<div class="container">

    <!-- Nav tabs -->
    <div class="row">
        <ul class="nav nav-tabs" role="tablist">
            <li role="presentation" class="active">
                <a href="#lunchoffer" aria-controls="lunchoffer" role="tab" data-toggle="tab">
                    Lunchoffer
                </a>
            </li>
            <li role="presentation">
                <a href="#food" aria-controls="food" role="tab" data-toggle="tab">
                    Food
                </a>
            </li>
            <li role="presentation">
                <a href="#drinks" aria-controls="drinks" role="tab" data-toggle="tab">
                    Drinks
                </a>
            </li>
        </ul>
        <br>
    </div>


    <!-- Tab panes -->
    <div class="tab-content">
        <!-- Lunchoffer -->
        <div id="lunchoffer" role="tabpanel" class="tab-pane fade in active">
            <div class="row">
                <div class="col-sm-6 col-sm-offset-3">
                    <div class="text-center relativ">
                        <h1 class="lunchoffer">
                            Mittagsangebot
                        </h1>
                        <p><em>
                                wähle täglich Montags - Freitags jeweils von 11°° - 17°° aus 3 unterschiedlichen Menüs
                                mit Suppe:
                            </em></p>
                        <div class="text-center weekday">
                            {{ week_start_date }} - {{ week_end_date }}
                        </div>
                        <hr>
                        <p class="text-center">
                            <em>
                                -- {% content 'food_soup.txt' %} --
                            </em>
                        </p>
                    </div>
                </div>
            </div>

            {% if lunchoffer_weekly|length %}

            <div class="row">

                <div class="col-sm-6 col-sm-offset-3">

                    {% for weekly_food in lunchoffer_weekly %}

                        <div class="row">
                            <div class="col-xs-9">

                                <p id="item-{{ weekly_food.food.id }}" class="index">
                                    <strong class="
                                {% if weekly_food.new == true %}
                                {% set class = 'new ' %}
                                {% endif %}

                                {% if weekly_food.food.vegetarisch == true %}
                                {% set class = class ~ 'vegetarian ' %}
                                {% endif %}

                                {% if weekly_food.food.vegan == true %}
                                {% set class = class ~ 'vegan ' %}
                                {% endif %}

                                {% if weekly_food.food.spicy == true %}
                                {% set class = class ~ 'spicy ' %}
                                {% endif %}

                                {{ class }}">

                                        {{ weekly_food.food.name }}
                                    </strong>
                                    <sup>
                                        <small>
                                            {% for allergene in weekly_food.food.allergene %}
                                                {{ allergene }}
                                            {% endfor %}
                                        </small>
                                    </sup>
                                    {% if weekly_food.food.description %}
                                        <br> {{ weekly_food.food.description }}
                                    {% endif %}
                                </p>
                            </div>
                            <div class="col-xs-3 text-right">
                                € {{ weekly_food.offer_price|number_format(2, ',', '.') }}
                            </div>


                        </div>

                    {% endfor %} <!-- Weekly Food End -->


                    {% for food in lunchoffer_daily %}

                        {% set class = '' %}

                        <div class="row">
                            <div class="col-sm-12 text-center weekday">
                                {{ food.date|strftime('%A, %d.%m.%Y') }}
                                <hr>
                            </div>
                        </div>

                        <div class="row">
                            <div class="col-xs-9">
                                <p id="item-{{ food.food.id }}" class="index">
                                    <strong class="
                            {% if food.food.new == true %}
                            {% set class = 'new ' %}
                            {% endif %}

                            {% if food.food.vegetarisch == true %}
                            {% set class = class ~ 'vegetarian ' %}
                            {% endif %}

                            {% if food.food.vegan == true %}
                            {% set class = class ~ 'vegan ' %}
                            {% endif %}

                            {% if food.food.spicy == true %}
                            {% set class = class ~ 'spicy ' %}
                            {% endif %}

                            {{ class }}">

                            {{ food.food.name }}
                            </strong>
                                    <sup>
                                        <small>
                                            {% for allergene in food.food.allergene %}
                                                {{ allergene }}
                                            {% endfor %}
                                        </small>
                                    </sup>
                                    {% if food.food.description %}
                                        <br> {{ food.food.description }}
                                    {% endif %}
                                </p>
                            </div>
                            <div class="col-xs-3 text-right">
                                € {{ food.offer_price|number_format(2, ',', '.') }}
                            </div>
                        </div> <!-- End row of regular Menues -->

                    {% endfor %}

                    <!-- Always Hot -->
                    <br>
                    <br>
                    <hr>

                    <h3 class="text-center">.. always Hot!</h3>

                    {% for food in lunchoffer_always_hot %}

                        {% set class = '' %}

                            <div class="row">
                                <div class="col-xs-9">

                                    <p id="item-{{ food.food.id }}" class="index">
                                        <strong class="
                        {% if food.food.new == true %}
                        {% set class = 'new ' %}
                        {% endif %}

                        {% if food.food.vegetarisch == true %}
                        {% set class = class ~ 'vegetarian ' %}
                        {% endif %}

                        {% if food.food.vegan == true %}
                        {% set class = class ~ 'vegan ' %}
                        {% endif %}

                        {% if food.food.spicy == true %}
                        {% set class = class ~ 'spicy ' %}
                        {% endif %}

                        {{ class }}">

                        {{ food.food.name }}
                        </strong>
                                        <sup>
                                            <small>
                                                {% for allergene in food.food.allergene %}
                                                    {{ allergene }}
                                                {% endfor %}
                                            </small>
                                        </sup>
                                        {% if food.food.description %}
                                            <br> {{ food.food.description }}
                                        {% endif %}
                                    </p>
                                </div>
                                <div class="col-xs-3 text-right">
                                    € {{ food.offer_price|number_format(2, ',', '.') }}
                                </div>
                            </div>

                {% endfor %}

                {% else %}

                    <div class="text-center">
                        <p>
                            ... derzeit kein Mittagsangebot ...
                        </p>
                    </div>

                {% endif %}

                <br>
                <hr>
                <p>Hinweis: Wir akzeptieren auch Sodexo Gutscheine.</p>


                </div>


            </div>

        </div> <!-- End #lunchoffer -->


        <!-- Food -->
        <div role="tabpanel" class="tab-pane fade in" id="food">
            <div class="text-center">
                <h1 class="hidden-xs">FOOD</h1>
            </div>


            <div class="row">
                <div class="col-xs-10 col-xs-offset-1 hidden-sm hidden-md hidden-lg">
                    {{ form_ajax('foods::onFilterCategories', { update: { 'site/food/foodwrapper': '#foodWrapper' } }) }}
                    <div id="FoodCategoriesFilter">
                        <select class="wide" name="Filter[foodcategory]">
                            <option value="">Alle Speisen</option>
                            {% for category in categories %}
                                <option value="{{ category.id }}">{{ category.name }}</option>
                            {% endfor %}
                        </select>
                    </div>
                    {{ form_close() }}
                </div>
            </div>

            <div id="foodWrapper">{% partial 'site/food/foodwrapper' %}</div>

            {% partial 'site/food/bestellsdazu' %}

            {% partial 'site/food/spanferkel' %}

            {% partial 'site/food/allergene' %}

        </div>

        <!-- Drinks -->
        <div role="tabpanel" class="tab-pane dropdown fade" id="drinks">
            <div class="text-center">
                <h1 class="hidden-xs">DRINKS</h1>
            </div>

            <div class="row">
                <div class="col-xs-10 col-xs-offset-1 hidden-sm hidden-md hidden-lg">
                    {{ form_ajax('drinks::onFilterDrinkCategories', { update: { 'site/drink/drinkwrapper': '#drinkWrapper' } }) }}
                    <div id="DrinkCategoriesFilter">
                        <select class="wide" name="Filter[drinkcategory]">
                            <option value="">Alle Drinks</option>
                            {% for category in drinkcategories %}
                                <option value="{{ category.id }}">{{ category.name }}</option>
                            {% endfor %}
                        </select>
                    </div>
                    {{ form_close() }}
                </div>
            </div>

            <div id="drinkWrapper">{% partial 'site/drink/drinkwrapper' %}</div>

        </div>
    </div>


</div>
