title = 'Food & Drinks'
description = 'Listing with Ajax filtering capabilities'
url = '/food-drinks'
layout = default

[lunchoffers]
[foods]
[drinks] 
==


<div class="container">

    <!-- Nav tabs -->
    <div class="row">
        <ul class="nav nav-tabs" role="tablist">
            <li role="presentation" class="active">
                <a href="#lunchoffer" aria-controls="lunchoffer" role="tab" data-toggle="tab">Lunchoffer</a>
            </li>
            <li role="presentation">
                <a href="#food" aria-controls="food" role="tab" data-toggle="tab">Food</a>
            </li>
            <li role="presentation">
                <a href="#drinks" aria-controls="drinks" role="tab" data-toggle="tab">Drinks</a>
            </li>
        </ul>
        <br>
    </div>


    <!-- Tab panes -->
    <div class="tab-content">
        <!-- Lunchoffer -->
        <div id="lunchoffer" role="tabpanel" class="tab-pane fade in active">
            <div class="row">
                <div class="col-sm-6 col-sm-offset-3">
                    <div class="text-center relativ">
                        <h1 class="lunchoffer">Mittagsangebot</h1>
                        <p><em>wähle täglich Montags - Freitags jeweils von 11°° - 17°° aus 3 unterschiedlichen Menüs mit Suppe:</em></p>
                    </div>
                </div>
            </div>

            

            {% if lunchoffers|length %}

                <div class="row">

                    <div class="col-sm-6 col-sm-offset-3">

                    {% set weekdateArray = [] %}

                    {% set soups = '' %}

                    {% for weekly_food in lunchoffers %}

                        {% if weekly_food.all_week %}
                        {% if weekly_food.date|date('d.m.Y') not in weekdateArray %}
                            <div class="text-center weekday">{{ weekly_food.date|date('d.m.Y') }} - {{ weekly_food.date_until|date('d.m.Y') }}</div>
                            <hr>
                            {% set weekdateArray = weekly_food.date|date('d.m.Y') %}
                        {% endif %}

                        {% if soups == '' %}
                            <p class="text-center"><em>-- {% content 'food_soup.txt' %} --</em></p>
                        {% set soups = 1 %}
                        {% endif %}
                            <div class="row">
                                <div class="col-xs-9">
                                
                                    <p id="item-{{ weekly_food.id }}" class="index">
                                        <strong class="
                                            {% if weekly_food.new == true %}
                                                {% set class = 'new ' %}
                                            {% endif %}

                                            {% if weekly_food.vegetarisch == true %}
                                                {% set class = class ~ 'vegetarian ' %}
                                            {% endif %}

                                            {% if weekly_food.vegan == true %}
                                                {% set class = class ~ 'vegan ' %}
                                            {% endif %}

                                            {% if weekly_food.spicy == true %}
                                                {% set class = class ~ 'spicy ' %}
                                            {% endif %}

                                            {{ class }}">

                                            {{ weekly_food.name }} 
                                        </strong>
                                        <sup>
                                            <small>
                                                {% for allergene in weekly_food.allergene %}
                                                    {{ allergene }}
                                                {% endfor %}
                                            </small>
                                        </sup>
                                        {% if weekly_food.description %}
                                            <br> {{ weekly_food.description }}
                                        {% endif %}
                                    </p>
                                </div>
                                <div class="col-xs-3 text-right">
                                    € {{ weekly_food.offer_price|number_format(2, ',', '.') }}
                                </div>
                            </div>
                        {% else %}
                        {% endif %}

                    {% endfor %} <!-- Weekly Food End -->

                        {% set dateArray = [] %} 

                        {% for food in lunchoffers %}

                            {% set class = '' %}

                            {% if food.always_hot %}
                            {% else %}

                            {% if date(food.date) >= date() %}

                            {% if food.date|date('d.m.Y') not in dateArray %} 
                            <div class="row">
                                <div class="col-sm-12 text-center weekday">
                               
                                        {{ food.date|strftime('%A, %d.%m.%Y') }} 
                                        <hr>
                                
                                {% set dateArray = food.date|date('d.m.Y') %}
                                </div>

                            </div>
                            {% endif %}

                            {% endif %}

                            {% if not food.all_week %}
                            <div class="row">
                                <div class="col-xs-9">
                                
                                    <p id="item-{{ food.id }}" class="index">
                                        <strong class="
                                            {% if food.new == true %}
                                                {% set class = 'new ' %}
                                            {% endif %}

                                            {% if food.vegetarisch == true %}
                                                {% set class = class ~ 'vegetarian ' %}
                                            {% endif %}

                                            {% if food.vegan == true %}
                                                {% set class = class ~ 'vegan ' %}
                                            {% endif %}

                                            {% if food.spicy == true %}
                                                {% set class = class ~ 'spicy ' %}
                                            {% endif %}

                                            {{ class }}">

                                            {{ food.name }} 
                                        </strong>
                                        <sup>
                                            <small>
                                                {% for allergene in food.allergene %}
                                                    {{ allergene }}
                                                {% endfor %}
                                            </small>
                                        </sup>
                                        {% if food.description %}
                                            <br> {{ food.description }}
                                        {% endif %}
                                    </p>
                                </div>
                                <div class="col-xs-3 text-right">
                                    € {{ food.offer_price|number_format(2, ',', '.') }}
                                </div>
                            </div> <!-- End row of regular Menues -->
                            {% endif %}

                        {% endif %}

                        {% endfor %}



                    </div>


                    <!-- Always Hot -->
                    <div class="col-sm-6 col-sm-offset-3">
                        <br>
                        <br>
                        <hr>

                        <h3 class="text-center">.. always Hot!</h3>

                        {% for food in lunchoffers %}

                            {% set class = '' %}

                            {% if not food.always_hot %}
                            {% else %}    

                            <div class="row">
                                <div class="col-xs-9">
                                
                                    <p id="item-{{ food.id }}" class="index">
                                        <strong class="
                                            {% if food.new == true %}
                                                {% set class = 'new ' %}
                                            {% endif %}

                                            {% if food.vegetarisch == true %}
                                                {% set class = class ~ 'vegetarian ' %}
                                            {% endif %}

                                            {% if food.vegan == true %}
                                                {% set class = class ~ 'vegan ' %}
                                            {% endif %}

                                            {% if food.spicy == true %}
                                                {% set class = class ~ 'spicy ' %}
                                            {% endif %}

                                            {{ class }}">

                                            {{ food.name }} 
                                        </strong>
                                        <sup>
                                            <small>
                                                {% for allergene in food.allergene %}
                                                    {{ allergene }}
                                                {% endfor %}
                                            </small>
                                        </sup>
                                        {% if food.description %}
                                            <br> {{ food.description }}
                                        {% endif %}
                                    </p>
                                </div>
                                <div class="col-xs-3 text-right">
                                    € {{ food.offer_price|number_format(2, ',', '.') }}
                                </div>
                            </div>

                        {% endif %}

                        {% endfor %}
                    </div>  

                </div>

            {% else %}

                <div class="text-center">
                    <p>
                        ... derzeit kein Mittagsangebot ...
                    </p>
                </div>

            {% endif %}

            <br>
            <hr>
            <p>Hinweis: Wir akzeptieren auch Sodexo Gutscheine.</p>

                
        </div> <!-- End #lunchoffer -->

        <!-- Food -->
        <div role="tabpanel" class="tab-pane fade in" id="food">
            <div class="text-center">
                <h1 class="hidden-xs">FOOD</h1>
            </div>
            

            <div class="row">
                <div class="col-xs-10 col-xs-offset-1 hidden-sm hidden-md hidden-lg">
                    {{ form_ajax('foods::onFilterCategories', { update: { 'site/food/foodwrapper': '#foodWrapper' } }) }}
                    <div id="FoodCategoriesFilter">
                        <select class="wide" name="Filter[foodcategory]">
                            <option value="">Alle Speisen</option>
                            {% for category in categories %}
                                <option value="{{ category.id }}">{{ category.name }}</option>
                            {% endfor %}
                        </select>
                    </div>
                    {{ form_close() }}
                </div>
            </div>

            <div id="foodWrapper">{% partial 'site/food/foodwrapper' %}</div>

            {% partial 'site/food/bestellsdazu' %}

            {% partial 'site/food/spanferkel' %}

            {% partial 'site/food/allergene' %}

        </div>

        <!-- Drinks -->
        <div role="tabpanel" class="tab-pane dropdown fade" id="drinks">
            <div class="text-center">
                <h1 class="hidden-xs">DRINKS</h1>
            </div>

            <div class="row">
                <div class="col-xs-10 col-xs-offset-1 hidden-sm hidden-md hidden-lg">
                    {{ form_ajax('drinks::onFilterDrinkCategories', { update: { 'site/drink/drinkwrapper': '#drinkWrapper' } }) }}
                    <div id="DrinkCategoriesFilter">
                        <select class="wide" name="Filter[drinkcategory]">
                            <option value="">Alle Drinks</option>
                            {% for category in drinkcategories %}
                                <option value="{{ category.id }}">{{ category.name }}</option>
                            {% endfor %}
                        </select>
                    </div>
                    {{ form_close() }}
                </div>
            </div>

            <div id="drinkWrapper">{% partial 'site/drink/drinkwrapper' %}</div>

        </div>
    </div>


</div>
